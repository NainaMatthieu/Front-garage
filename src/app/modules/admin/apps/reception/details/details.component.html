<div class="absolute inset-0 flex flex-col min-w-0 overflow-hidden">

    <mat-drawer-container class="flex-auto h-full">

        <!-- Drawer -->
        <mat-drawer class="w-90 dark:bg-gray-900" [autoFocus]="false" [mode]="drawerMode" [opened]="drawerOpened"
            #matDrawer>
            <div class="flex flex-col items-start p-8 border-b">
                <!-- Back to courses -->
                <a class="inline-flex items-center leading-6 text-primary hover:underline" [routerLink]="['..']">
                    <span class="inline-flex items-center">
                        <mat-icon class="icon-size-5 text-current"
                            [svgIcon]="'heroicons_solid:arrow-sm-left'"></mat-icon>
                        <span class="ml-1.5 font-medium leading-5">Retour</span>
                    </span>
                </a>

                <!-- Course title & description -->
                <div class="mt-3 text-2xl font-semibold">{{reparation?.title}}</div>
                <div class="text-secondary">{{reparation?.description}}</div>

            </div>

            <form class="flex flex-col mt-8 p-8 pb-4 bg-card rounded-2xl shadow overflow-hidden">
                <div class="flex flex-col gt-xs:flex-row">
                    <mat-form-field class="flex-auto gt-xs:pr-3">
                        <mat-label>Pièce :</mat-label>

                        <mat-select [(value)]="selectedOption">
                            <mat-option *ngFor="let option of options" [value]="{id: option._id, designation: option.designation}">
                                {{ option.designation }}
                            </mat-option>
                        </mat-select>
                        <mat-icon svgIcon="feather:tool" class="icon-size-5"></mat-icon>
                    </mat-form-field>
                    <mat-form-field class="flex-auto gt-xs:pl-3">
                        <mat-label>Description</mat-label>
                        <input matInput #descriptionInput>
                        <mat-icon svgIcon="heroicons_outline:document-text" class="icon-size-5"></mat-icon>
                    </mat-form-field>

                    <mat-form-field class="flex-auto gt-xs:pl-3">
                        <mat-label>Prix ( MGA )</mat-label>
                        <input matInput #prixInput>
                        <mat-icon svgIcon="heroicons_outline:currency-dollar" class="icon-size-5"></mat-icon>
                    </mat-form-field>
                    <div class="px-6 py-4 text-right bg-gray-50 dark:bg-transparent">
                        <a mat-stroked-button>
                            <span class="inline-flex items-center">



                                <!-- Started -->

                                <span (click)="addReparation()">Ajouter</span>


                                <mat-icon class="ml-1.5 icon-size-5"
                                    [svgIcon]="'heroicons_solid:arrow-sm-right'"></mat-icon>
                            </span>
                        </a>
                    </div>
                </div>

            </form>


        </mat-drawer>

        <!-- Drawer content -->
        <mat-drawer-content class="flex flex-col overflow-hidden">

            <!-- Header -->
            <div
                class="lg:hidden flex flex-0 items-center py-2 pl-4 pr-6 sm:py-4 md:pl-6 md:pr-8 border-b lg:border-b-0 bg-card dark:bg-transparent">
                <!-- Title & Actions -->
                <a mat-icon-button [routerLink]="['..']">
                    <mat-icon [svgIcon]="'heroicons_outline:arrow-sm-left'"></mat-icon>
                </a>
                <h2 class="ml-2.5 text-md sm:text-xl font-medium tracking-tight truncate">
                    {{reparation?.title}}
                </h2>
            </div>

            <!-- Main -->
            <div class="flex-auto overflow-y-auto" cdkScrollable>

                <!-- Steps -->
                <mat-tab-group class="fuse-mat-no-header" [animationDuration]="'200'" #courseSteps>
                    <ng-container>
                        <mat-tab>
                            <ng-template matTabContent>
                                <div
                                    class="prose prose-sm max-w-3xl mx-auto sm:my-2 lg:mt-4 p-6 sm:p-10 sm:py-12 rounded-2xl shadow overflow-hidden bg-card">
                                    <mat-tab-group class="fuse-mat-no-header" [animationDuration]="'200'">
                                        <ng-container>
                                            <mat-tab>
                                                <ng-template matTabContent>
                                                    <div
                                                        class="prose prose-sm max-w-3xl mx-auto sm:my-2 lg:mt-4 p-6 sm:p-10 sm:py-12 rounded-2xl shadow overflow-hidden bg-card">
                                                        <h1>Liste des réparations</h1>
                                                        <table class="table">
                                                            <thead>
                                                                <tr>
                                                                    <th scope="col">Piece</th>
                                                                    <th scope="col">Description</th>
                                                                    <th scope="col">Prix</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr *ngFor="let item of listeReparations; let i = index">
                                                                    <td>{{ item.designation }}</td>
                                                                    <td>{{ item.description }}</td>
                                                                    <td>{{ item.prix }} MGA</td>
                                                                    <td>
                                                                        <button (click)="deleteItem(i)">Delete</button>
                                                                    </td>
                                                                  </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                    <div style="padding-left:550px">
                                                        <button mat-raised-button color="primary" (click)="insert()">Valider</button>
                                                    </div>
                                                </ng-template>
                                            </mat-tab>
                                        </ng-container>
                                    </mat-tab-group>
                                </div>
                            </ng-template>
                        </mat-tab>
                        
                    </ng-container>
                </mat-tab-group>



            </div>


        </mat-drawer-content>

    </mat-drawer-container>

</div>